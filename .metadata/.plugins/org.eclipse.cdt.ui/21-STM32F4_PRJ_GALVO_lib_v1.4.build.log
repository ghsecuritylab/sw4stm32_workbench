06:52:10 **** Incremental Build of configuration Debug for project 21-STM32F4_PRJ_GALVO_lib_v1.4 ****
make all 
Building file: ../src/main.c
Invoking: MCU GCC Compiler
/media/data/CODES/sw4stm32_workbench/21-STM32F4_PRJ_GALVO_lib_v1.4/Debug
arm-none-eabi-gcc -mcpu=cortex-m4 -mthumb -mfloat-abi=hard -mfpu=fpv4-sp-d16 -DSTM32F429ZITx -D__FPU_PRESENT -DARM_MATH_CM4 -DSTM32F429I_DISC1 -DSTM32F4 -DSTM32 -DDEBUG -DUSE_STDPERIPH_DRIVER -DSTM32F429_439xx -UKEIL_IDE -I"/media/data/CODES/sw4stm32_workbench/21-STM32F4_PRJ_GALVO_lib_v1.4/inc" -I"/media/data/CODES/sw4stm32_workbench/21-STM32F4_PRJ_GALVO_lib_v1.4/MATLAB_gen" -I"/media/data/CODES/sw4stm32_workbench/00-STM32F4_LIBRARY_MDB" -I"/media/data/CODES/sw4stm32_workbench/21-STM32F4_PRJ_GALVO_lib_v1.4/CMSIS/device" -I"/media/data/CODES/sw4stm32_workbench/21-STM32F4_PRJ_GALVO_lib_v1.4/CMSIS/core" -I"/media/data/CODES/sw4stm32_workbench/21-STM32F4_PRJ_GALVO_lib_v1.4/StdPeriph_Driver/inc" -O0 -g3 -Wall -fmessage-length=0 -ffunction-sections -c -MMD -MP -MF"src/main.d" -MT"src/main.o" -o "src/main.o" "../src/main.c"
../src/main.c:95:28: error: conflicting types for 'triStruct'
 static struct triangWave_t triStruct;
                            ^
In file included from ../src/main.c:41:0:
/media/data/CODES/sw4stm32_workbench/21-STM32F4_PRJ_GALVO_lib_v1.4/inc/main.h:195:26: note: previous declaration of 'triStruct' was here
 extern struct triangWave triStruct;
                          ^
../src/main.c:331:22: error: array type has incomplete element type 'struct itemsm'
 static struct itemsm itemsm_list[] = {
                      ^
../src/main.c:332:11: error: field name not in record or union initializer
         { .name = "pid_init", .idm = misc_pid_init },
           ^
../src/main.c:332:11: note: (near initialization for 'itemsm_list')
../src/main.c:332:31: error: field name not in record or union initializer
         { .name = "pid_init", .idm = misc_pid_init },
                               ^
../src/main.c:332:31: note: (near initialization for 'itemsm_list')
../src/main.c:333:11: error: field name not in record or union initializer
         { .name = "pid_Controller", .idm = misc_pid_Controller },
           ^
../src/main.c:333:11: note: (near initialization for 'itemsm_list')
../src/main.c:333:37: error: field name not in record or union initializer
         { .name = "pid_Controller", .idm = misc_pid_Controller },
                                     ^
../src/main.c:333:37: note: (near initialization for 'itemsm_list')
../src/main.c:334:11: error: field name not in record or union initializer
         { .name = "pid_Reset_Integrator", .idm = misc_pid_Reset_Integrator },
           ^
../src/main.c:334:11: note: (near initialization for 'itemsm_list')
../src/main.c:334:43: error: field name not in record or union initializer
         { .name = "pid_Reset_Integrator", .idm = misc_pid_Reset_Integrator },
                                           ^
../src/main.c:334:43: note: (near initialization for 'itemsm_list')
../src/main.c:335:11: error: field name not in record or union initializer
         { .name = "update_pid_data", .idm = misc_update_pid_data  },
           ^
../src/main.c:335:11: note: (near initialization for 'itemsm_list')
../src/main.c:335:38: error: field name not in record or union initializer
         { .name = "update_pid_data", .idm = misc_update_pid_data  },
                                      ^
../src/main.c:335:38: note: (near initialization for 'itemsm_list')
../src/main.c:336:11: error: field name not in record or union initializer
         { .name = "safetyEnable" , .idm = misc_assOnOff_cmd  },
           ^
../src/main.c:336:11: note: (near initialization for 'itemsm_list')
../src/main.c:336:36: error: field name not in record or union initializer
         { .name = "safetyEnable" , .idm = misc_assOnOff_cmd  },
                                    ^
../src/main.c:336:36: note: (near initialization for 'itemsm_list')
../src/main.c:337:11: error: field name not in record or union initializer
         { .name = "safetyUpperLim", .idm = misc_assUpperLim_cmd  },
           ^
../src/main.c:337:11: note: (near initialization for 'itemsm_list')
../src/main.c:337:37: error: field name not in record or union initializer
         { .name = "safetyUpperLim", .idm = misc_assUpperLim_cmd  },
                                     ^
../src/main.c:337:37: note: (near initialization for 'itemsm_list')
../src/main.c:338:11: error: field name not in record or union initializer
         { .name = "safetyLowerLim", .idm = misc_assLowerLim_cmd  },
           ^
../src/main.c:338:11: note: (near initialization for 'itemsm_list')
../src/main.c:338:37: error: field name not in record or union initializer
         { .name = "safetyLowerLim", .idm = misc_assLowerLim_cmd  },
                                     ^
../src/main.c:338:37: note: (near initialization for 'itemsm_list')
../src/main.c:339:11: error: field name not in record or union initializer
         { .name = "safetyTripp", .idm = misc_assTrippTime_cmd  },
           ^
../src/main.c:339:11: note: (near initialization for 'itemsm_list')
../src/main.c:339:34: error: field name not in record or union initializer
         { .name = "safetyTripp", .idm = misc_assTrippTime_cmd  },
                                  ^
../src/main.c:339:34: note: (near initialization for 'itemsm_list')
src/subdir.mk:39: recipe for target 'src/main.o' failed
../src/main.c:340:11: error: field name not in record or union initializer
         { .name = "safetyVal", .idm = misc_assSaveVal_cmd  },
           ^
../src/main.c:340:11: note: (near initialization for 'itemsm_list')
../src/main.c:340:32: error: field name not in record or union initializer
         { .name = "safetyVal", .idm = misc_assSaveVal_cmd  },
                                ^
../src/main.c:340:32: note: (near initialization for 'itemsm_list')
../src/main.c:341:11: error: field name not in record or union initializer
         { .name = "EnableBeam", .idm = misc_beamOn_cmd  },
           ^
../src/main.c:341:11: note: (near initialization for 'itemsm_list')
../src/main.c:341:33: error: field name not in record or union initializer
         { .name = "EnableBeam", .idm = misc_beamOn_cmd  },
                                 ^
../src/main.c:341:33: note: (near initialization for 'itemsm_list')
../src/main.c:342:11: error: field name not in record or union initializer
         { .name = "DisableBeam", .idm = misc_beamOff_cmd  },
           ^
../src/main.c:342:11: note: (near initialization for 'itemsm_list')
../src/main.c:342:34: error: field name not in record or union initializer
         { .name = "DisableBeam", .idm = misc_beamOff_cmd  },
                                  ^
../src/main.c:342:34: note: (near initialization for 'itemsm_list')
../src/main.c: In function 'TIM4_IRQHandler':
../src/main.c:399:13: error: invalid use of undefined type 'struct triangWave_t'
             if (setpoint_tgl  <= triStruct.top) {
             ^
../src/main.c:400:17: error: invalid use of undefined type 'struct triangWave_t'
                 setpoint_tgl += triStruct.derivate;
                 ^
../src/main.c:403:17: error: invalid use of undefined type 'struct triangWave_t'
                 setpoint_tgl = triStruct.bottom;
                 ^
../src/main.c: In function 'DMA2_Stream0_IRQHandler':
../src/main.c:516:14: warning: implicit declaration of function 'TM_DISCO_LedOn' [-Wimplicit-function-declaration]
              TM_DISCO_LedOn(LED_GREEN);
              ^
../src/main.c:522:1: warning: multi-line comment [-Wcomment]
 //        updateActuator_f(   arm_pid_f32(&PIDY, pidErr_y), \
 ^
../src/main.c: In function 'ADC_IRQHandler':
../src/main.c:553:18: warning: unused variable 'W_now' [-Wunused-variable]
         uint16_t W_now = ADC_MultiConvBuff[1];   // setpoint (Isens_y)
                  ^
../src/main.c: At top level:
../src/main.c:630:0: warning: ignoring #pragma O0  [-Wunknown-pragmas]
 #pragma O0
 ^
../src/main.c:683:0: warning: ignoring #pragma O1  [-Wunknown-pragmas]
 #pragma O1
 ^
../src/main.c: In function 'main':
../src/main.c:730:13: error: 'TM_DAC1' undeclared (first use in this function)
     g.dacHw[TM_DAC1].upperLim = (int16_t)( 2113 - ADC_RNG/2 );
             ^
../src/main.c:730:13: note: each undeclared identifier is reported only once for each function it appears in
../src/main.c:732:13: error: 'TM_DAC2' undeclared (first use in this function)
     g.dacHw[TM_DAC2].upperLim = (int16_t)( 2113 - ADC_RNG/2 );
             ^
../src/main.c:744:5: warning: implicit declaration of function 'TM_DISCO_ButtonInit' [-Wimplicit-function-declaration]
     TM_DISCO_ButtonInit();
     ^
../src/main.c:747:5: warning: implicit declaration of function 'TM_DISCO_LedInit' [-Wimplicit-function-declaration]
     TM_DISCO_LedInit();
     ^
../src/main.c:756:24: warning: passing argument 1 of 'TM_PWM_InitChannel' from incompatible pointer type [-Wincompatible-pointer-types]
     TM_PWM_InitChannel(&TIM_Data, TM_PWM_Channel_3, TM_PWM_PinsPack_2);  // ???? PB0
                        ^
In file included from ../src/main.c:25:0:
/media/data/CODES/sw4stm32_workbench/00-STM32F4_LIBRARY_MDB/tm_stm32f4_pwm.h:183:24: note: expected 'TIM_TypeDef * {aka struct <anonymous> *}' but argument is of type 'TM_PWM_TIM_t * {aka struct <anonymous> *}'
 extern TM_PWM_Result_t TM_PWM_InitChannel(TIM_TypeDef* TIMx, TM_PWM_Channel_t Channel, TM_PWM_PinsPack_t PinsPack);
                        ^
../src/main.c:759:30: warning: passing argument 1 of 'TM_PWM_SetChannelPercent' from incompatible pointer type [-Wincompatible-pointer-types]
     TM_PWM_SetChannelPercent(&TIM_Data, TM_PWM_Channel_3, duty);
                              ^
In file included from ../src/main.c:25:0:
/media/data/CODES/sw4stm32_workbench/00-STM32F4_LIBRARY_MDB/tm_stm32f4_pwm.h:214:24: note: expected 'TIM_TypeDef * {aka struct <anonymous> *}' but argument is of type 'TM_PWM_TIM_t * {aka struct <anonymous> *}'
 extern TM_PWM_Result_t TM_PWM_SetChannelPercent(TIM_TypeDef* TIMx, TM_PWM_TIM_t* TIM_Data, TM_PWM_Channel_t Channel, float percent);
                        ^
../src/main.c:759:41: warning: passing argument 2 of 'TM_PWM_SetChannelPercent' makes pointer from integer without a cast [-Wint-conversion]
     TM_PWM_SetChannelPercent(&TIM_Data, TM_PWM_Channel_3, duty);
                                         ^
In file included from ../src/main.c:25:0:
/media/data/CODES/sw4stm32_workbench/00-STM32F4_LIBRARY_MDB/tm_stm32f4_pwm.h:214:24: note: expected 'TM_PWM_TIM_t * {aka struct <anonymous> *}' but argument is of type 'int'
 extern TM_PWM_Result_t TM_PWM_SetChannelPercent(TIM_TypeDef* TIMx, TM_PWM_TIM_t* TIM_Data, TM_PWM_Channel_t Channel, float percent);
                        ^
../src/main.c:759:5: error: too few arguments to function 'TM_PWM_SetChannelPercent'
     TM_PWM_SetChannelPercent(&TIM_Data, TM_PWM_Channel_3, duty);
     ^
In file included from ../src/main.c:25:0:
/media/data/CODES/sw4stm32_workbench/00-STM32F4_LIBRARY_MDB/tm_stm32f4_pwm.h:214:24: note: declared here
 extern TM_PWM_Result_t TM_PWM_SetChannelPercent(TIM_TypeDef* TIMx, TM_PWM_TIM_t* TIM_Data, TM_PWM_Channel_t Channel, float percent);
                        ^
../src/main.c:766:5: warning: implicit declaration of function 'TM_DAC_Init' [-Wimplicit-function-declaration]
     TM_DAC_Init(TM_DAC1);       
     ^
../src/main.c:797:55: error: '__TARGET_ARCH_ARM' undeclared (first use in this function)
     printf("__TARGET_ARCH_ARM: %s\n", TARGET_ARCH_ARM[__TARGET_ARCH_ARM]);
                                                       ^
../src/main.c:847:5: warning: implicit declaration of function 'TM_DISCO_LedOff' [-Wimplicit-function-declaration]
     TM_DISCO_LedOff(LED_GREEN);
     ^
../src/main.c:853:18: warning: implicit declaration of function 'TM_DISCO_ButtonOnPressed' [-Wimplicit-function-declaration]
         while (! TM_DISCO_ButtonOnPressed()) {};
                  ^
../src/main.c:694:23: warning: unused variable 'test' [-Wunused-variable]
     volatile uint16_t test = 0;
                       ^
../src/main.c:693:23: warning: unused variable 'rxval' [-Wunused-variable]
     volatile uint16_t rxval = 0;
                       ^
../src/main.c:692:22: warning: unused variable 'c' [-Wunused-variable]
     volatile uint8_t c = 0;
                      ^
../src/main.c: In function 'beamCtrl':
../src/main.c:981:55: warning: comparison between 'MDB_GPIO_STATE_t {aka enum <anonymous>}' and 'enum <anonymous>' [-Wenum-compare]
     if ((src == BEAM_CTRL_SOURCE_GLOBAL) && (newState != DNI)) {
                                                       ^
../src/main.c:986:55: warning: comparison between 'MDB_GPIO_STATE_t {aka enum <anonymous>}' and 'enum <anonymous>' [-Wenum-compare]
     if ((src == BEAM_CTRL_SOURCE_GLOBAL) && (newState == DNI)) {
                                                       ^
../src/main.c: At top level:
../src/main.c:1044:0: warning: ignoring #pragma O0  [-Wunknown-pragmas]
 #pragma O0
 ^
../src/main.c: In function 'fastConsoleCase':
../src/main.c:1127:24: warning: unused variable 'fl1' [-Wunused-variable]
         volatile float fl1 = atof(&sValtemp1[0]);
                        ^
../src/main.c:1385:45: error: invalid use of undefined type 'struct triangWave_t'
                                             triStruct.bottom = ((float)AREF_BY2 - g.ampl_f / 2);
                                             ^
../src/main.c:1386:45: error: invalid use of undefined type 'struct triangWave_t'
                                             triStruct.top = ((float)AREF_BY2 + g.ampl_f / 2);
                                             ^
../src/main.c:1387:45: error: invalid use of undefined type 'struct triangWave_t'
                                             triStruct.derivate = g.ampl_f / (float)100;
                                             ^
../src/main.c:1390:45: error: invalid use of undefined type 'struct triangWave_t'
                                             triStruct.triCtr = 0;
                                             ^
../src/main.c:1322:24: warning: unused variable 'valueDecoded' [-Wunused-variable]
         volatile float valueDecoded = atof( pVal );
                        ^
../src/main.c:1496:37: warning: suggest parentheses around '&&' within '||' [-Wparentheses]
             while ( (*pMisc >= 'A') && (*pMisc <= 'Z') || \
                                     ^
../src/main.c:1498:37: warning: suggest parentheses around '&&' within '||' [-Wparentheses]
                     (*pMisc >= '0') && (*pMisc <= '9') || \
                                     ^
../src/main.c:1509:71: error: invalid application of 'sizeof' to incomplete type 'struct itemsm'
             for(i = 0, choicem = NULL; i < sizeof itemsm_list/sizeof (struct itemsm); i++)
                                                                       ^
../src/main.c:1518:37: error: dereferencing pointer to incomplete type 'struct itemsm'
             misc = choicem ? choicem->idm : misc_NN;
                                     ^
../src/main.c: At top level:
../src/main.c:1553:0: warning: ignoring #pragma O2  [-Wunknown-pragmas]
 #pragma O2
 ^
../src/main.c:1913:1: warning: multi-line comment [-Wcomment]
 //#define ////dbg(IO_PIN, LEVEL) ((LEVEL) == 1 ? \
 ^
../src/main.c:1917:1: warning: multi-line comment [-Wcomment]
 //#define ////dbgT(IO_PIN) TM_GPIO_TogglePinValue \
 ^
../src/main.c:1950:1: warning: multi-line comment [-Wcomment]
 //volatile float  KI_INIT, \
 ^
../src/main.c:2035:1: warning: multi-line comment [-Wcomment]
 //            updateActuator_f( /*pidDataY.W_remf*/ \
 ^
../src/main.c:2043:1: warning: multi-line comment [-Wcomment]
 //        if (  (g.setpointSrc != INTERNAL_SETPOINT) && (g.setpointSrc != ANALOG_SETPOINT)  && \
 ^
../src/main.c:2052:1: warning: multi-line comment [-Wcomment]
 ////        updateActuator_f(   arm_pid_f32(&PIDY, pidErr_y), \
 ^
../src/main.c:2099:1: warning: multi-line comment [-Wcomment]
 //                DAC_SecureSetDualChanSigned = \
 ^
In file included from ../src/main.c:41:0:
/media/data/CODES/sw4stm32_workbench/21-STM32F4_PRJ_GALVO_lib_v1.4/inc/main.h:163:3: warning: 'triangWave_t' defined but not used [-Wunused-variable]
 } triangWave_t;
   ^
../src/main.c:331:22: warning: 'itemsm_list' defined but not used [-Wunused-variable]
 static struct itemsm itemsm_list[] = {
                      ^
make: *** [src/main.o] Error 1

06:52:10 Build Finished (took 227ms)

